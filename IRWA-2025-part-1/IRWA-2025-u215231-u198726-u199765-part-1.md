# IRWA 2025 Project: Part 1 Report 

Marc Bosch Manzano u215231
Chris Matienzo Chilo u198726
Ã€lex Roger Moya u199765

## Previous Aspects

In all notebook, all modifications to our data frame, which has been named as df_fashion_products, have appended a suffix _XX, where XX are two digits. 

Furthermore, we have displayed the column names, null count values, and data types of our fashion products dataset at the beggining of the notebook. We have also displayed the first rows and the number of rows and columns of the dataset.

## PART 1: Data preparation 

<b>1. As a first step, you must pre-process the documents. In particular, for the text fields (title, description) you should:  

- Removing stop words 
- Tokenization 
- Removing punctuation marks 
- Stemming 
- and... anything else you think it's needed (bonus point)</b>

Here, we have used the provided function from previous labs `build_terms`, which has been renamed to `process_text` and slightly modified. We have processed `title` and `description` separately.

Extra processing: we have removed the non alphabetical characters since they are not relevant when searching (specially the non alphanumerical ones). The numerical characters have been also removed because when we do searching we usually write words in the queries, but without numbers. Numbers can be important to distinguish one product from another by model, but in this case we have deprecated them. 

We also ignore "nan" and empty strings "" in the processing. We alse ignore repeated words: we collect only unique values.
 
<b>2. Take into account that for future queries, the final output must return (when present) the  following information for each of the selected documents: pid, title, description,  brand,  category, sub_category, product_details, seller, out_of_stock, selling_price, discount, actual_price, average_rating, url </b>

We have selected those columns from the fashion products dataframe we have processed previously.

<b>3. Decide how to handle the fields category, sub_category, brand, product_details, and seller  during pre-processing. Should they be merged into a single text field, indexed as separate fields  in the inverted index or any other alternative? Justify your choice, considering how their distinctiveness may affect retrieval effectiveness. What are pros and cons of each approach?</b>

We have keeped those fields separated and as well as an auxiliary field `extra_field`. This field concatenatess all of them and also adds `title` and `descripion` too to improve query results. The reason is because these five fields can be seen as categorical variables or as text variables.

Following this system, we have these advantages. In separate fields case, keeping them separate is more organized and allows for greater context for queries based on each field. In a single field case, combining the fields into a single field, because it is so simple, forgets the distinction between words, giving equal weight to all of them.
 
On `product_details` variable, we have to do an extra process, since this variable contains list of dictionaries. In the code, we have joined all these dictionaries in a single one merged dictionary for each fashion product. We have created new columns for each key of those dictionary, which are columns such as `Style Code`, `Closure`, `Color`, `Fabric`, etc. Not all the rows have the same attributes in product details; then, many rows will have NaN values for attributes that they do not have. At the end, we have merged all these columns to a single string into the a new column `merged_product_details`, and we have dropped the original `product_details` column. 

In short, we have splitted `product_details` into several columns by categories, and merged them into a text to a new column named `merged_product_details`.

Finally, we have merged the text of title, description, category, sub_category, brand, seller, and merged_product_details into a new column called `extra_field`. Also, we have applied the `process_text` function to each row of `extra_field`.

At the end, we will index the `extra_field` terms and we will keep category, sub_category, brand, seller, and all categories of product_details to another database to do queries that are more structured.
 
<b>4. Consider the fields out_of_stock, selling_price, discount, actual_price, and average_rating.  Decide how these should be handled during pre-processing to use in further search. Should they be indexed as textual terms?</b>

We do not index numeric fields as text. These five fields do not provide semantic information about the product, but rather quantitative information, useful for filtering or sorting results. During pre-processing, they are converted to numeric or boolean format, but are not included in the `extra_field` field or the inverted index.

## PART 2: Exploratory Data Analysis  

<b>When  working  with  data,  it  is  important to have a better understanding of the content and some statistics. Provide an exploratory data analysis to describe the dataset you are working on  in  this  project  and  explain  the  decisions  made  for the analysis. For example, word counting  distribution;  average  sentence  length;  vocabulary  size;  ranking  of  products  based  on  rating,  price,  or discount;  top  sellers  and  brands;  out_of_stock  distribution;  word  clouds  for  the most frequent words, and entity recognition. 

Feel free to do the exploratory analysis and report your findings in the report.</b>